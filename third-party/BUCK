
cxx_library(
    name='gtest',
    srcs=glob(
        include=[
            "gtest/googletest/src/*.cc",
            "gtest/googlemock/src/*.cc",
        ],
        exclude=[
            "gtest/googletest/src/gtest-all.cc",
            "gtest/googletest/src/gtest_main.cc",
            "gtest/googlemock/src/gmock-all.cc",
            "gtest/googlemock/src/gmock_main.cc",
        ],
    ),
    headers=glob([
        "gtest/googletest/include/gtest/*.h",
        "gtest/googlemock/include/gmock/*.h",
    ]),
    header_namespace="gtest",
    exported_headers={
        "gtest.h": "gtest/googletest/include/gtest/gtest.h",
        "gtest-assertion-result.h": "gtest/googletest/include/gtest/gtest-assertion-result.h",
        "gtest-message.h": "gtest/googletest/include/gtest/gtest-message.h",
        "internal/gtest-port.h": "gtest/googletest/include/gtest/internal/gtest-port.h",
        "internal/gtest-port-arch.h": "gtest/googletest/include/gtest/internal/gtest-port-arch.h",
        "internal/custom/gtest-port.h": "gtest/googletest/include/gtest/internal/custom/gtest-port.h",
        "gtest-death-test.h": "gtest/googletest/include/gtest/gtest-death-test.h",
        "internal/gtest-death-test-internal.h": "gtest/googletest/include/gtest/internal/gtest-death-test-internal.h",
        "gtest-matchers.h": "gtest/googletest/include/gtest/gtest-matchers.h",
        "gtest-printers.h": "gtest/googletest/include/gtest/gtest-printers.h",
        "internal/custom/gtest-printers.h": "gtest/googletest/include/gtest/internal/custom/gtest-printers.h",
        "internal/gtest-internal.h": "gtest/googletest/include/gtest/internal/gtest-internal.h",
        "internal/gtest-filepath.h": "gtest/googletest/include/gtest/internal/gtest-filepath.h",
        "internal/gtest-string.h": "gtest/googletest/include/gtest/internal/gtest-string.h",
        "internal/gtest-type-util.h": "gtest/googletest/include/gtest/internal/gtest-type-util.h",
        "gtest-param-test.h": "gtest/googletest/include/gtest/gtest-param-test.h",
        "internal/gtest-param-util.h": "gtest/googletest/include/gtest/internal/gtest-param-util.h",
        "gtest-test-part.h": "gtest/googletest/include/gtest/gtest-test-part.h",
        "gtest-typed-test.h": "gtest/googletest/include/gtest/gtest-typed-test.h",
        "gtest_pred_impl.h": "gtest/googletest/include/gtest/gtest_pred_impl.h",
        "gtest_prod.h": "gtest/googletest/include/gtest/gtest_prod.h",
    },
    include_directories=[
        "gtest/googletest/include",
        "gtest/googletest",
        "gtest/googlemock/include",
        "gtest/googlemock",
    ],
    compiler_flags=["-std=c++14"],
    visibility=[
        '//:test',
    ],
)
